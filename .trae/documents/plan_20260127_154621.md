# Chef AI 前端开发计划

## 项目概述
基于 Vue3 + Element Plus 开发 AI 菜谱应用的前端，功能包括用户认证、个性化设置、菜谱推荐和详情展示。

---

## 第一阶段：项目基础架构搭建

### 1.1 依赖安装
- **Element Plus** - UI 组件库
- **Vue Router** - 路由管理
- **Pinia** - 状态管理
- **Axios** - HTTP 请求
- **element-plus-icons** - 图标库

### 1.2 目录结构规划
```
src/
├── api/                    # API 接口封装
├── assets/                 # 静态资源
├── components/             # 公共组件
├── composables/            # 组合式函数
├── router/                 # 路由配置
├── stores/                 # Pinia 状态管理
├── styles/                 # 全局样式
├── views/                  # 页面组件
│   ├── Login.vue          # 登录/注册页
│   ├── Home.vue           # 首页
│   ├── Personalization.vue # 个性化设置
│   ├── Recipes.vue        # 菜谱推荐列表
│   └── RecipeDetail.vue   # 菜谱详情页
└── utils/                  # 工具函数
```

### 1.3 基础配置
- 配置 Element Plus 按需引入
- 配置 Axios 基础实例（请求/响应拦截器）
- 配置路由守卫（登录验证）
- 配置全局样式主题

---

## 第二阶段：用户认证模块

### 2.1 登录/注册页面 (`Login.vue`)
- [x] Tab 切换登录和注册
- [x] 登录表单（用户名、密码）
- [x] 注册表单（用户名、密码、邮箱）
- [x] 表单验证
- [x] 调用登录/注册 API
- [x] 登录成功后保存 token 并跳转

### 2.2 用户信息管理
- [x] 获取用户信息 API
- [x] 用户状态全局管理（Pinia）

---

## 第三阶段：个性化模块

### 3.1 口味偏好管理 (`components/TastePreferences.vue`)
- [x] 添加口味偏好输入框
- [x] 偏好标签列表展示
- [x] 删除偏好标签
- [x] 保存到后端 API

### 3.2 食材库存管理 (`components/IngredientInventory.vue`)
- [x] 添加食材（名称、数量）
- [x] 食材列表展示
- [x] 编辑食材数量
- [x] 删除食材
- [x] 保存到后端 API

### 3.3 个性化设置页面 (`Personalization.vue`)
- [x] 整合口味偏好和食材库存组件
- [x] 保存按钮统一提交
- [x] 页面布局优化

---

## 第四阶段：菜谱生成模块

### 4.1 菜谱推荐列表页面 (`Recipes.vue`)
- [x] 显示用户个性化信息摘要
- [x] "生成菜谱推荐"按钮
- [x] 调用 AI 推荐 API
- [x] 菜谱卡片列表展示：
  - 菜谱名称
  - 成品示例图
  - 使用食材标签
- [x] 点击卡片跳转到详情页
- [x] 加载状态和错误处理

### 4.2 菜谱详情页面 (`RecipeDetail.vue`)
- [x] 接收路由参数（menu_id）
- [x] 获取菜谱详情 API
- [x] 成品示例大图展示
- [x] 食材清单（带用量）
- [x] 烹饪步骤列表
- [x] 烹饪建议展示
- [x] 返回按钮

---

## 第五阶段：公共组件与优化

### 5.1 公共组件
- [x] `NavBar.vue` - 导航栏（显示用户名、退出登录）
- [x] `Loading.vue` - 加载组件
- [x] `EmptyState.vue` - 空状态组件
- [x] `ImageWithFallback.vue` - 图片加载失败处理

### 5.2 全局功能
- [x] Axios 封装（统一错误处理）
- [x] Token 存储和自动携带
- [x] 路由登录验证
- [x] 移动端响应式适配

---

## 第六阶段：测试与优化

### 6.1 功能测试
- [x] 用户注册/登录流程测试
- [x] 个性化设置保存测试
- [x] 菜谱生成和查看测试
- [x] 错误处理测试

### 6.2 性能优化
- [x] 路由懒加载
- [x] 组件按需引入
- [x] 图片懒加载

---

## API 接口对应关系

| 功能 | 接口 | 对应组件 |
|------|------|----------|
| 注册 | `POST /api/user/register` | Login.vue |
| 登录 | `POST /api/user/login` | Login.vue |
| 获取用户信息 | `GET /api/user/info/:user_id` | NavBar.vue |
| 添加口味偏好 | `POST /api/user/preferences` | TastePreferences.vue |
| 删除口味偏好 | `DELETE /api/user/preferences/:id` | TastePreferences.vue |
| 添加食材 | `POST /api/user/inventory` | IngredientInventory.vue |
| 删除食材 | `DELETE /api/user/inventory/:id` | IngredientInventory.vue |
| 获取推荐列表 | `GET /api/recipes/recommendations` | Recipes.vue |
| 获取菜谱详情 | `GET /api/recipe/:menu_id` | RecipeDetail.vue |

---

## 开发周期预估
- **阶段一（基础架构）**: 2-3 小时
- **阶段二（用户认证）**: 2-3 小时
- **阶段三（个性化模块）**: 3-4 小时
- **阶段四（菜谱模块）**: 4-5 小时
- **阶段五（公共组件）**: 2-3 小时
- **阶段六（测试优化）**: 2-3 小时

**总计**: 15-21 小时